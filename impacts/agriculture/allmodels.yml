timerate: month
rolling-years: 2
climate: [ tas, edd, prmm ] # , prmm-poly-2, prmm-poly-3, prmm-poly-4
models:
  - csvvs: "social/parameters/agriculture/soy/*08.csvv"
    within-season: "social/baselines/agriculture/world-combo-201710-growing-seasons-soy.csv"
    clipping: false
    covariates:
      - loggdppc
      - seasonaltas
      - ir-share
      - ir-share^2
    description: Yield rate for soybeans
    specifications:
      gddkdd:
        description: Temperature-driven yield rate for soybeans
        depenunit: log kg / Ha
        variables:
          gdd-8-30: edd.bin(8) - edd.bin(30) [C day]
          kdd-30: edd.bin(30) [C day]
        functionalform: coefficients
      precip:
        description: Precipitation-driven yield rate for soybeans
        depenunit: log kg / Ha
        indepunit: mm
        variable: prmm
        functionalform: polynomial
        allow-raising: yes
    calculation:
      - Sum:
        - YearlySumIrregular:
            model: gddkdd
        - YearlySumIrregular:
            model: precip
      - Rebase
      - Exponentiate